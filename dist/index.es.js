import e,{useEffect as t}from"react";import n from"react-dom";function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},o.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}function a(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var d=!1,l="production"!==process.env.NODE_ENV?(void 0)([void 0,(void 0)({enter:void 0,exit:void 0,appear:void 0}).isRequired]):null,p="production"!==process.env.NODE_ENV?(void 0)([void 0,(void 0)({enter:void 0,exit:void 0,active:void 0}),(void 0)({enter:void 0,enterDone:void 0,enterActive:void 0,exit:void 0,exitDone:void 0,exitActive:void 0})]):null,c=e.createContext(null),u=function(t){function o(e,n){var o;o=t.call(this,e,n)||this;var i,r=n&&!n.isMounting?e.enter:e.appear;return o.appearStatus=null,e.in?r?(i="exited",o.appearStatus="entering"):i="entered":i=e.unmountOnExit||e.mountOnEnter?"unmounted":"exited",o.state={status:i},o.nextCallback=null,o}s(o,t),o.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null};var r=o.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?"entering"!==n&&"entered"!==n&&(t="entering"):"entering"!==n&&"entered"!==n||(t="exiting")}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,o=this.props.timeout;return e=t=n=o,null!=o&&"number"!=typeof o&&(e=o.exit,t=o.enter,n=void 0!==o.appear?o.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),"entering"===t?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},r.performEnter=function(e){var t=this,o=this.props.enter,i=this.context?this.context.isMounting:e,r=this.props.nodeRef?[i]:[n.findDOMNode(this),i],s=r[0],a=r[1],l=this.getTimeouts(),p=i?l.appear:l.enter;!e&&!o||d?this.safeSetState({status:"entered"},(function(){t.props.onEntered(s)})):(this.props.onEnter(s,a),this.safeSetState({status:"entering"},(function(){t.props.onEntering(s,a),t.onTransitionEnd(p,(function(){t.safeSetState({status:"entered"},(function(){t.props.onEntered(s,a)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,o=this.getTimeouts(),i=this.props.nodeRef?void 0:n.findDOMNode(this);t&&!d?(this.props.onExit(i),this.safeSetState({status:"exiting"},(function(){e.props.onExiting(i),e.onTransitionEnd(o.exit,(function(){e.safeSetState({status:"exited"},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:"exited"},(function(){e.props.onExited(i)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(o){n&&(n=!1,t.nextCallback=null,e(o))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var o=this.props.nodeRef?this.props.nodeRef.current:n.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(o&&!i){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],s=r[0],a=r[1];this.props.addEndListener(s,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var t=this.state.status;if("unmounted"===t)return null;var n=this.props,o=n.children;n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef;var r=i(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return e.createElement(c.Provider,{value:null},"function"==typeof o?o(t,r):e.cloneElement(e.Children.only(o),r))},o}(e.Component);function m(){}u.contextType=c,u.propTypes="production"!==process.env.NODE_ENV?{nodeRef:(void 0)({current:"undefined"==typeof Element?void 0:function(e,t,n,o,i,r){var s=e[t];return(void 0)(s&&"ownerDocument"in s?s.ownerDocument.defaultView.Element:Element)(e,t,n,o,i,r)}}),children:(void 0)([void 0,void 0]).isRequired,in:void 0,mountOnEnter:void 0,unmountOnExit:void 0,appear:void 0,enter:void 0,exit:void 0,timeout:function(e){var t=l;e.addEndListener||(t=t.isRequired);for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return t.apply(void 0,[e].concat(o))},addEndListener:void 0,onEnter:void 0,onEntering:void 0,onEntered:void 0,onExit:void 0,onExiting:void 0,onExited:void 0}:{},u.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:m,onEntering:m,onEntered:m,onExit:m,onExiting:m,onExited:m},u.UNMOUNTED="unmounted",u.EXITED="exited",u.ENTERING="entering",u.ENTERED="entered",u.EXITING="exiting";var f=u,v=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return o=t,void((n=e).classList?n.classList.add(o):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,o)||("string"==typeof n.className?n.className=n.className+" "+o:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+o)));var n,o}))},E=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return o=t,void((n=e).classList?n.classList.remove(o):"string"==typeof n.className?n.className=a(n.className,o):n.setAttribute("class",a(n.className&&n.className.baseVal||"",o)));var n,o}))},x=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).appliedClasses={appear:{},enter:{},exit:{}},e.onEnter=function(t,n){var o=e.resolveArguments(t,n),i=o[0],r=o[1];e.removeClasses(i,"exit"),e.addClass(i,r?"appear":"enter","base"),e.props.onEnter&&e.props.onEnter(t,n)},e.onEntering=function(t,n){var o=e.resolveArguments(t,n),i=o[0],r=o[1]?"appear":"enter";e.addClass(i,r,"active"),e.props.onEntering&&e.props.onEntering(t,n)},e.onEntered=function(t,n){var o=e.resolveArguments(t,n),i=o[0],r=o[1]?"appear":"enter";e.removeClasses(i,r),e.addClass(i,r,"done"),e.props.onEntered&&e.props.onEntered(t,n)},e.onExit=function(t){var n=e.resolveArguments(t)[0];e.removeClasses(n,"appear"),e.removeClasses(n,"enter"),e.addClass(n,"exit","base"),e.props.onExit&&e.props.onExit(t)},e.onExiting=function(t){var n=e.resolveArguments(t)[0];e.addClass(n,"exit","active"),e.props.onExiting&&e.props.onExiting(t)},e.onExited=function(t){var n=e.resolveArguments(t)[0];e.removeClasses(n,"exit"),e.addClass(n,"exit","done"),e.props.onExited&&e.props.onExited(t)},e.resolveArguments=function(t,n){return e.props.nodeRef?[e.props.nodeRef.current,t]:[t,n]},e.getClassNames=function(t){var n=e.props.classNames,o="string"==typeof n,i=o?""+(o&&n?n+"-":"")+t:n[t];return{baseClassName:i,activeClassName:o?i+"-active":n[t+"Active"],doneClassName:o?i+"-done":n[t+"Done"]}},e}s(n,t);var r=n.prototype;return r.addClass=function(e,t,n){var o=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(o+=" "+i),"active"===n&&e&&e.scrollTop,o&&(this.appliedClasses[t][n]=o,v(e,o))},r.removeClasses=function(e,t){var n=this.appliedClasses[t],o=n.base,i=n.active,r=n.done;this.appliedClasses[t]={},o&&E(e,o),i&&E(e,i),r&&E(e,r)},r.render=function(){var t=this.props;t.classNames;var n=i(t,["classNames"]);return e.createElement(f,o({},n,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},n}(e.Component);x.defaultProps={classNames:""},x.propTypes="production"!==process.env.NODE_ENV?o({},f.propTypes,{classNames:p,onEnter:void 0,onEntering:void 0,onEntered:void 0,onExit:void 0,onExiting:void 0,onExited:void 0}):{};var h=x;function g({show:o,title:i,children:r,onClose:s}){const a=e=>{27===(e.charcode||e.keyCode)&&s()};return t((()=>(document.body.addEventListener("keydown",a),function(){document.body.removeEventListener("keydown",a)})),[]),n.createPortal(e.createElement(h,{in:o,unmountOnExit:!0,timeout:{enter:0,exit:300}},e.createElement("div",{className:"modal",onClick:s},e.createElement("div",{className:"modal-content",onClick:e=>e.stopPropagation()},i&&e.createElement("div",{className:"modal-header"},e.createElement("h4",{className:"modal-title"},i)),e.createElement("div",{className:"modal-body"},r),e.createElement("div",{className:"modal-footer"},e.createElement("button",{onClick:s,className:"close"}))))),document.getElementById("root"))}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}('.modal{align-items:center;background-color:rgba(0,0,0,.5);bottom:0;display:flex;justify-content:center;left:0;opacity:0;pointer-events:none;position:fixed;right:0;top:0;transition:all .3s ease-in-out}.modal.enter-done{opacity:1;pointer-events:visible}.modal-exit{opacity:0}.modal-content{background-color:#fff;border-radius:15px;box-shadow:0 19px 38px rgba(0,0,0,.3),0 15px 12px rgba(0,0,0,.22);transform:translateY(-200px);transition:all .3s ease-in-out;width:500px}.modal.enter-done .modal-content{transform:translateY(0)}.modal.exit .modal-content{transform:translateY(-200px)}.modal-footer,.modal-header{padding:10px}.modal-title{margin:0}.modal-body{border-bottom:1px solid #eee;border-top:1px solid #eee;padding:10px}.close{background-color:#333;border:none;border-radius:50%;cursor:pointer;height:35px;opacity:1;position:absolute;right:-12px;top:-12px;width:35px}.close:after,.close:before{background-color:#fff;content:" ";height:22px;position:absolute;right:16px;top:6px;width:3px}.close.before:after,.close.before:hover{opacity:1}.close:before{transform:rotate(45deg)}.close:after{transform:rotate(-45deg)}');export{g as Modal};
